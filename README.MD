# Zadanie 1 â€“ ğŸŒ¦ï¸ Pogoda App

Aplikacja webowa w FastAPI, dziaÅ‚ajÄ…ca w kontenerze Docker, umoÅ¼liwiajÄ…ca sprawdzenie aktualnej pogody dla wybranego miasta i kraju.

---

## ğŸ“¦ FunkcjonalnoÅ›Ä‡

- Dynamiczne wybieranie kraju i miasta (zaleÅ¼ne listy rozwijane)
- Pobieranie i wyÅ›wietlanie aktualnych danych pogodowych z OpenWeatherMap
- Stylizowany formularz HTML z prostym interfejsem
- Logowanie daty uruchomienia, autora i portu do logÃ³w kontenera

---

## ğŸš€ Uruchomienie

### 1. Skonfiguruj klucz API
Zarejestruj siÄ™ na [https://openweathermap.org/api](https://openweathermap.org/api) i wstaw swÃ³j klucz API do pliku `app/main.py`:

```python
api_key = "tu_wstaw_swoj_klucz_api"
```
### 2. Uruchamianie w cmd
```bash 
docker build -t pogoda-app:latest .
docker run -d -p 8080:8080 --name pogoda pogoda-app:latest
docker logs pogoda
docker image ls pogoda-app
```

http://localhost:8080

# Zadanie 2 â€“ Aplikacja FastAPI + Docker + GitHub Actions + Trivy

## ğŸ“¦ ZawartoÅ›Ä‡ repozytorium

- `Dockerfile` â€“ buduje aplikacjÄ™ FastAPI jako wieloarchitekturny obraz Docker.
- `app/` â€“ folder z kodem aplikacji FastAPI.
- `requirements.txt` â€“ zaleÅ¼noÅ›ci Pythona.
- `.github/workflows/build.yml` â€“ definicja GitHub Actions do budowy, skanowania i publikacji obrazu.
- `README.md` â€“ opis konfiguracji projektu.

---

## âš™ï¸ Etapy konfiguracji

### 1. **Dockerfile (build multiarch + minimalny obraz)**

Aplikacja budowana jest w dwÃ³ch etapach:
- **builder** oparty o `python:3.11-slim`, instaluje zaleÅ¼noÅ›ci w `/install`
- **finalny obraz** oparty o `python:3.11-alpine`, kopiuje tylko gotowe biblioteki i kod

ZaletÄ… tego podejÅ›cia jest mniejszy finalny obraz i szybsze uruchamianie.

---

### 2. **GitHub Actions â€“ automatyzacja**

Workflow `build.yml` zawiera:
- Checkout repozytorium
- Logowanie do GitHub Container Registry (`ghcr.io`)
- Budowa obrazu tylko dla `linux/amd64` do skanowania Trivy
- Skan bezpieczeÅ„stwa (CVE) za pomocÄ… `trivy`
- W razie braku bÅ‚Ä™dÃ³w typu CRITICAL/HIGH â€“ publikacja multiarch obrazu do `ghcr.io`
- Cache budowania trzymany na DockerHub

---

### 3. **Skanowanie Trivy (bezpieczeÅ„stwo)**

KaÅ¼dy obraz jest analizowany pod kÄ…tem podatnoÅ›ci (CVEs) przed publikacjÄ….
JeÅ›li zostanÄ… wykryte podatnoÅ›ci CRITICAL lub HIGH â€“ workflow siÄ™ przerywa.

---

## ğŸ” Sekrety

W repozytorium GitHub ustawiono:

- `DOCKERHUB_USERNAME` â€“ login do DockerHub (np. `patrykkan`)
- `DOCKERHUB_TOKEN` â€“ token (wygenerowany na https://hub.docker.com)
  
Oba potrzebne sÄ… do cache'owania budowy obrazu.

---

## â˜ï¸ Publikacja obrazu

Obraz publikowany jest do:

